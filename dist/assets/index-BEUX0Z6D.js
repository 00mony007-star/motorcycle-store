const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ProductDetailPage-CT5lQK4b.js","assets/vendor-DcRwrwk9.js","assets/CategoryPage-DCq5zsPX.js","assets/Checkbox-BoQFHUv_.js","assets/Label-CEq3WBdJ.js","assets/Select-kEkG80sN.js","assets/CartPage-CPMN4Bcr.js","assets/Separator-CW2lLDLq.js","assets/CheckoutPage-cgcjRSZs.js","assets/OrderConfirmationPage-BFqun8bk.js","assets/LoginPage-Bm2GKOKK.js","assets/RegisterPage-DiNz-kPd.js","assets/AccountPage-CP0-GwRd.js","assets/OrderHistoryPage-PUsVDPkk.js","assets/AdminLayout-CefWRtZT.js","assets/AdminDashboardPage-DLKrxjn_.js","assets/AdminProductsPage--PQXAZ5M.js","assets/Table-PsxMj63z.js","assets/AdminProductEditPage-B7QJrkvl.js","assets/AdminCategoriesPage-CnWB3emy.js","assets/AdminOrdersPage-Lo85PKx4.js","assets/AdminDataPage-DOla-0DH.js","assets/AdminSettingsPage-CTVvDL1K.js"])))=>i.map(i=>d[i]);
import{c as Le,f as w,R as g,j as e,S as Re,a as X,o as ze,b as K,p as Z,r as c,d as H,m as u,u as I,A as _,X as xe,L as b,M as Me,P as Be,T as $e,e as Ve,g as Fe,h as ae,G as qe,U as re,i as He,k as Ge,l as Ue,n as Qe,F as We,q as Ye,I as Je,Y as Xe,s as ie,C as pe,t as Ke,v as Ze,O as et,w as B,E as tt,H as st,Z as at,x as O,y as rt,z as it,B as ot,D as nt,J as lt,K as ct,V as dt,N as ut,Q as ge,W as fe,_ as mt,$ as oe,a0 as ye,a1 as je,a2 as be,a3 as ve,a4 as we,a5 as Ne,a6 as ht,a7 as Se,a8 as xt,a9 as k,aa as pt,ab as j,ac as gt,ad as ft,ae as yt,af as jt,ag as bt,ah as vt,ai as wt,aj as Nt}from"./vendor-DcRwrwk9.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();function y(...t){return Le(t)}function ne(t,a="SAR"){const s=a==="SAR"?"ar-SA":"en-US";return new Intl.NumberFormat(s,{style:"currency",currency:a}).format(t)}function qs(t){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)}function P(t){return t.toLowerCase().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}function C(){return w.string.uuid()}const St=X("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-primary hover:shadow-glow-primary",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=g.forwardRef(({className:t,variant:a,size:s,asChild:r=!1,...i},o)=>{const n=r?Re:"button";return e.jsx(n,{className:y(St({variant:a,size:s,className:t})),ref:o,...i})});h.displayName="Button";const G=g.forwardRef(({className:t,type:a,...s},r)=>e.jsx("input",{type:a,className:y("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:border-primary focus-visible:shadow-glow-primary disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));G.displayName="Input";let $=null;async function x(){return $||($=await ze("MotoGearDB",2,{upgrade(t,a){if(a<1){const s=t.createObjectStore("products",{keyPath:"id"});s.createIndex("by-slug","slug",{unique:!0}),s.createIndex("by-category","category.id"),s.createIndex("by-brand","brand"),t.createObjectStore("categories",{keyPath:"id"}).createIndex("by-slug","slug",{unique:!0}),t.createObjectStore("users",{keyPath:"id"}).createIndex("by-email","email",{unique:!0}),t.createObjectStore("orders",{keyPath:"id"}).createIndex("by-userId","userId"),t.createObjectStore("coupons",{keyPath:"id"}).createIndex("by-code","code",{unique:!0}),t.createObjectStore("reviews",{keyPath:"id"}).createIndex("by-product","productId")}a<2&&(t.createObjectStore("contentBlocks",{keyPath:"id"}).createIndex("by-key","key",{unique:!0}),t.createObjectStore("settings",{keyPath:"id"}))}}),$)}async function kt(){return x()}async function At(){const t=await x(),a=t.objectStoreNames,s=t.transaction(a,"readwrite");await Promise.all(Array.from(a).map(r=>s.objectStore(r).clear())),await s.done,console.log("All data cleared from IndexedDB.")}const Ct={async list(t={}){let s=await(await x()).getAll("products");if(t.q){const o=t.q.toLowerCase();s=s.filter(n=>{var d;return n.title.toLowerCase().includes(o)||((d=n.brand)==null?void 0:d.toLowerCase().includes(o))})}t.categoryId&&(s=s.filter(o=>o.category.id===t.categoryId)),t.tag&&(s=s.filter(o=>o.tags.includes(t.tag))),t.featured&&(s=s.filter(o=>o.featured)),t.sort&&s.sort((o,n)=>{switch(t.sort){case"price-asc":return o.price-n.price;case"price-desc":return n.price-o.price;case"rating":return n.rating-o.rating;case"new":default:return new Date(n.createdAt).getTime()-new Date(o.createdAt).getTime()}});const r=t.offset||0,i=t.limit||s.length;return s.slice(r,r+i)},async getById(t){return(await x()).get("products",t)||null},async getBySlug(t){return(await x()).getFromIndex("products","by-slug",t)||null},async create(t){const a=await x(),s=new Date().toISOString(),r={...t,id:C(),slug:P(t.title),createdAt:s,updatedAt:s};return await a.add("products",r),r},async update(t,a){const s=await x(),r=await this.getById(t);if(!r)throw new Error("Product not found");const i={...r,...a,slug:a.title?P(a.title):r.slug,updatedAt:new Date().toISOString()};return await s.put("products",i),i},async remove(t){await(await x()).delete("products",t)}},It={async list(){return(await x()).getAll("categories")},async getById(t){return(await x()).get("categories",t)||null},async getBySlug(t){return(await x()).getFromIndex("categories","by-slug",t)||null},async create(t){const a=await x(),s={...t,id:C(),slug:P(t.name)};return await a.add("categories",s),s},async update(t,a){const s=await x(),r=await this.getById(t);if(!r)throw new Error("Category not found");const i={...r,...a,slug:a.name?P(a.name):r.slug};return await s.put("categories",i),i},async remove(t){await(await x()).delete("categories",t)}},Pt={async login(t,a){const s=await(await x()).getFromIndex("users","by-email",t);if(!s||a!=="password")throw new Error("Invalid credentials");const r=`mock_token_${C()}`;return localStorage.setItem("auth_token",r),localStorage.setItem("current_user_id",s.id),{token:r,user:s}},async register(t){const a=await x();if(await a.getFromIndex("users","by-email",t.email))throw new Error("User with this email already exists");const s=new Date().toISOString(),r={...t,id:C(),role:"customer",createdAt:s,updatedAt:s};return await a.add("users",r),this.login(t.email,t.password)},async me(){const t=localStorage.getItem("current_user_id");return t&&await(await x()).get("users",t)||null},async logout(){localStorage.removeItem("auth_token"),localStorage.removeItem("current_user_id")}},_t={async list(t){const a=await x();return t?a.getAllFromIndex("orders","by-userId",t):a.getAll("orders")},async get(t){return(await x()).get("orders",t)||null},async create(t){const a=await x(),s=new Date().toISOString(),r={...t,id:C(),number:`MG-${Date.now()}`,status:"pending",createdAt:s,updatedAt:s};return await a.add("orders",r),r},async update(t,a){const s=await x(),r=await this.get(t);if(!r)throw new Error("Order not found");const i={...r,...a,updatedAt:new Date().toISOString()};return await s.put("orders",i),i}},Tt={async list(){return(await x()).getAll("coupons")},async get(t){return(await x()).get("coupons",t)||null},async getByCode(t){return(await x()).getFromIndex("coupons","by-code",t.toUpperCase())||null},async create(t){const a=await x(),s={...t,id:C()};return await a.add("coupons",s),s},async update(t,a){const s=await x(),r=await this.get(t);if(!r)throw new Error("Coupon not found");const i={...r,...a};return await s.put("coupons",i),i},async remove(t){await(await x()).delete("coupons",t)},async validate(t,a){const s=await this.getByCode(t);if(!s||!s.active)return{valid:!1,discount:0,reason:"Invalid or expired coupon."};const r=a.reduce((o,n)=>o+n.price*n.quantity,0);return{valid:!0,discount:s.type==="fixed"?s.value:r*(s.value/100)}}},Et={async list(){return(await x()).getAll("contentBlocks")},async get(t){return(await x()).getFromIndex("contentBlocks","by-key",t)||null},async create(t){const a=await x(),s={...t,id:C()};return await a.add("contentBlocks",s),s},async update(t,a){const s=await x(),r=await s.get("contentBlocks",t);if(!r)throw new Error("Content block not found");const i={...r,...a};return await s.put("contentBlocks",i),i},async remove(t){await(await x()).delete("contentBlocks",t)}},Ot={async get(){return(await(await x()).getAll("settings"))[0]||null},async update(t){const a=await x(),s=await this.get();if(!s)throw new Error("Settings not found");const r={...s,...t};return await a.put("settings",r),r}},Dt={products:Ct,categories:It,users:Pt,orders:_t,coupons:Tt,content:Et,settings:Ot};let W;function U(){return W||(W=Dt),W}const V=U(),ee=K()(Z(t=>({user:null,isAuthenticated:!1,isLoading:!0,login:async(a,s)=>{t({isLoading:!0});try{const{user:r}=await V.users.login(a,s);return t({user:r,isAuthenticated:!0,isLoading:!1}),{success:!0}}catch(r){return t({isLoading:!1}),{success:!1,error:r.message||"Login failed"}}},register:async a=>{t({isLoading:!0});try{const{user:s}=await V.users.register(a);return t({user:s,isAuthenticated:!0,isLoading:!1}),{success:!0}}catch(s){return t({isLoading:!1}),{success:!1,error:s.message||"Registration failed"}}},logout:async()=>{await V.users.logout(),t({user:null,isAuthenticated:!1})},checkAuth:async()=>{t({isLoading:!0});try{const a=await V.users.me();t(a?{user:a,isAuthenticated:!0,isLoading:!1}:{user:null,isAuthenticated:!1,isLoading:!1})}catch{t({user:null,isAuthenticated:!1,isLoading:!1})}}}),{name:"auth-storage",partialize:t=>({user:t.user,isAuthenticated:t.isAuthenticated})})),le=()=>({id:C(),items:[],subtotal:0,tax:0,shipping:0,total:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),te=K()(Z((t,a)=>({cart:null,addItem:(s,r,i=1)=>{const o=a();let n=o.cart||le();const d=r?`-${P(r.name)}-${P(r.option)}`:"",p=`${s.id}${d}`,v=n.items.findIndex(f=>f.id===p);if(v>-1)n.items[v].quantity+=i;else{const f={id:p,productId:s.id,quantity:i,price:s.price,productSnapshot:{title:s.title,image:s.images[0],brand:s.brand,variantInfo:r?`${r.name}: ${r.option}`:void 0}};n.items.push(f)}n.updatedAt=new Date().toISOString(),t({cart:n}),o.calculateTotals()},removeItem:s=>{const r=a();if(!r.cart)return;const i={...r.cart};i.items=i.items.filter(o=>o.id!==s),i.updatedAt=new Date().toISOString(),t({cart:i}),r.calculateTotals()},updateItemQuantity:(s,r)=>{const i=a();if(!i.cart)return;const o={...i.cart},n=o.items.findIndex(d=>d.id===s);n>-1&&(r<=0?o.items.splice(n,1):o.items[n].quantity=r,o.updatedAt=new Date().toISOString(),t({cart:o}),i.calculateTotals())},applyCoupon:s=>{const r=a();if(!r.cart)return;const i={...r.cart},o=i.items.reduce((d,p)=>d+p.price*p.quantity,0),n=s.type==="fixed"?s.value:o*(s.value/100);i.couponCode=s.code,i.discount=n,i.updatedAt=new Date().toISOString(),t({cart:i}),r.calculateTotals()},removeCoupon:()=>{const s=a();if(!s.cart)return;const r={...s.cart};r.couponCode=void 0,r.discount=void 0,r.updatedAt=new Date().toISOString(),t({cart:r}),s.calculateTotals()},clearCart:()=>{t({cart:le()})},calculateTotals:()=>{const s=a();if(!s.cart)return;const r={...s.cart};r.subtotal=r.items.reduce((o,n)=>o+n.price*n.quantity,0),r.tax=r.subtotal*.08,r.shipping=r.subtotal>100?0:15;let i=r.subtotal+r.tax+r.shipping;r.discount&&(i-=r.discount),r.total=Math.max(0,i),t({cart:r})}}),{name:"cart-storage"})),Lt=X("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function E({className:t,variant:a,...s}){return e.jsx("div",{className:y(Lt({variant:a}),t),...s})}function Rt({isOpen:t,onClose:a}){const{cart:s,updateItemQuantity:r,removeItem:i}=te(),{t:o}=I(),[n,d]=c.useState(new Set),p=(s==null?void 0:s.items.reduce((l,S)=>l+S.quantity,0))||0,v=(s==null?void 0:s.subtotal)||0,f=(l,S)=>{d(A=>new Set([...A,l])),r(l,S),setTimeout(()=>{d(A=>{const D=new Set(A);return D.delete(l),D})},300)},m=l=>{d(S=>new Set([...S,l])),setTimeout(()=>i(l),200)};return e.jsx(_,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),e.jsx(u.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-full max-w-md bg-background border-l border-border z-50 shadow-premium",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"w-5 h-5 text-primary"}),e.jsx("h2",{className:"text-lg font-semibold",children:o("cart.title","Shopping Cart")}),p>0&&e.jsx(E,{variant:"secondary",className:"ml-2",children:p})]}),e.jsx(h,{variant:"ghost",size:"sm",onClick:a,className:"focus-ring","aria-label":"Close cart",children:e.jsx(xe,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:(s==null?void 0:s.items.length)===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mb-4",children:e.jsx(H,{className:"w-8 h-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:o("cart.empty.title","Your cart is empty")}),e.jsx("p",{className:"text-muted-foreground mb-4",children:o("cart.empty.description","Add some awesome gear to get started!")}),e.jsx(h,{asChild:!0,onClick:a,children:e.jsx(b,{to:"/category/all",children:o("cart.empty.cta","Start Shopping")})})]}):e.jsx("div",{className:"space-y-4",children:e.jsx(_,{children:s==null?void 0:s.items.map(l=>e.jsxs(u.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0,scale:n.has(l.id)?1.05:1},exit:{opacity:0,x:100,scale:.9},transition:{duration:.3},className:"flex items-center space-x-3 p-3 rounded-lg border border-border hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:l.productSnapshot.image,alt:l.productSnapshot.title,className:"w-16 h-16 object-cover rounded-md"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium truncate",children:l.productSnapshot.title}),l.productSnapshot.brand&&e.jsx("p",{className:"text-xs text-muted-foreground",children:l.productSnapshot.brand}),l.productSnapshot.variantInfo&&e.jsx("p",{className:"text-xs text-muted-foreground",children:l.productSnapshot.variantInfo}),e.jsxs("p",{className:"text-sm font-semibold text-primary",children:["$",l.price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>f(l.id,l.quantity-1),disabled:l.quantity<=1,className:"w-8 h-8 p-0","aria-label":"Decrease quantity",children:e.jsx(Me,{className:"w-3 h-3"})}),e.jsx(u.span,{initial:{scale:1.2},animate:{scale:1},className:"w-8 text-center text-sm font-medium",children:l.quantity},l.quantity),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>f(l.id,l.quantity+1),className:"w-8 h-8 p-0","aria-label":"Increase quantity",children:e.jsx(Be,{className:"w-3 h-3"})})]}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>m(l.id),className:"w-8 h-8 p-0 text-destructive hover:text-destructive hover:bg-destructive/10","aria-label":"Remove item",children:e.jsx($e,{className:"w-3 h-3"})})]},l.id))})})}),(s==null?void 0:s.items.length)>0&&e.jsxs("div",{className:"border-t border-border p-4 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-base font-medium",children:o("cart.subtotal","Subtotal")}),e.jsxs(u.span,{initial:{scale:1.1},animate:{scale:1},className:"text-lg font-bold text-primary",children:["$",v.toFixed(2)]},v)]}),v<100&&e.jsx("div",{className:"text-xs text-muted-foreground text-center p-2 bg-muted rounded-md",children:o("cart.freeShipping",`Add $${(100-v).toFixed(2)} more for free shipping!`)}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{asChild:!0,className:"w-full btn-premium",onClick:a,children:e.jsxs(b,{to:"/checkout",className:"flex items-center justify-center space-x-2",children:[e.jsx("span",{children:o("cart.checkout","Checkout")}),e.jsx(Ve,{className:"w-4 h-4"})]})}),e.jsx(h,{asChild:!0,variant:"outline",className:"w-full",onClick:a,children:e.jsx(b,{to:"/cart",children:o("cart.viewCart","View Cart")})})]})]})]})})]})})}function zt(){const[t,a]=c.useState(!1),{cart:s}=te(),r=(s==null?void 0:s.items.reduce((i,o)=>i+o.quantity,0))||0;return e.jsxs(e.Fragment,{children:[e.jsxs(h,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"relative focus-ring","aria-label":`Shopping cart with ${r} items`,children:[e.jsx(H,{className:"w-5 h-5"}),r>0&&e.jsx(u.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2",children:e.jsx(E,{variant:"destructive",className:"w-5 h-5 p-0 flex items-center justify-center text-xs animate-bounce-subtle",children:r>99?"99+":r})})]}),e.jsx(Rt,{isOpen:t,onClose:()=>a(!1)})]})}function Mt(){const t=Fe(),{user:a,isAuthenticated:s,logout:r}=ee(),[i,o]=g.useState(""),{t:n,i18n:d}=I(),p=m=>{m.preventDefault(),i.trim()&&t(`/search?q=${encodeURIComponent(i.trim())}`)},v=async()=>{await r(),t("/")},f=m=>{d.changeLanguage(m)};return e.jsxs("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[e.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[e.jsxs(b,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:e.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"M"})}),e.jsx("span",{className:"font-bold text-xl",children:"MotoGear"})]}),e.jsx("form",{onSubmit:p,className:"hidden md:flex flex-1 max-w-md mx-8",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(ae,{className:"absolute start-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(G,{type:"search",placeholder:n("header.searchPlaceholder"),value:i,onChange:m=>o(m.target.value),className:"ps-10 pe-4"})]})}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(h,{variant:"ghost",size:"icon",className:"focus-ring","aria-label":"Change language",children:e.jsx(qe,{className:"h-5 w-5"})}),e.jsx("div",{className:"absolute end-0 top-full mt-2 w-32 bg-background border rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:e.jsxs("div",{className:"p-1",children:[e.jsx(h,{variant:d.language==="en"?"secondary":"ghost",size:"sm",className:"w-full justify-start",onClick:()=>f("en"),children:n("languages.en")}),e.jsx(h,{variant:d.language==="ar"?"secondary":"ghost",size:"sm",className:"w-full justify-start",onClick:()=>f("ar"),children:n("languages.ar")})]})})]}),e.jsx(zt,{}),s&&a?e.jsxs("div",{className:"relative group",children:[e.jsx(h,{variant:"ghost",size:"icon",className:"focus-ring","aria-label":n("header.userMenu"),children:e.jsx(re,{className:"h-5 w-5"})}),e.jsx("div",{className:"absolute end-0 top-full mt-2 w-48 bg-background border rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"px-3 py-2 text-sm font-medium",children:a.name}),e.jsx("div",{className:"px-3 py-1 text-xs text-muted-foreground",children:a.email}),e.jsxs("div",{className:"border-t mt-2 pt-2",children:[e.jsx(h,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>t("/account"),children:n("header.myAccount")}),e.jsx(h,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>t("/orders"),children:n("header.myOrders")}),a.role==="admin"&&e.jsx(h,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>t("/admin"),children:n("header.adminPanel")}),e.jsx(h,{variant:"ghost",size:"sm",className:"w-full justify-start text-destructive hover:text-destructive",onClick:v,children:n("header.signOut")})]})]})})]}):e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>t("/login"),className:"focus-ring","aria-label":n("header.signIn"),children:e.jsx(re,{className:"h-5 w-5"})}),e.jsx(h,{variant:"ghost",size:"icon",className:"md:hidden focus-ring","aria-label":n("header.menu"),children:e.jsx(He,{className:"h-5 w-5"})})]})]}),e.jsx("div",{className:"md:hidden border-t p-4",children:e.jsx("form",{onSubmit:p,children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute start-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(G,{type:"search",placeholder:n("header.searchPlaceholder"),value:i,onChange:m=>o(m.target.value),className:"ps-10 pe-4"})]})})})]})}function Bt(){const[t,a]=g.useState(""),{t:s}=I(),r=i=>{i.preventDefault(),console.log("Newsletter signup:",t),a("")};return e.jsx("footer",{className:"bg-muted/30 border-t",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:e.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"M"})}),e.jsx("span",{className:"font-bold text-xl",children:"MotoGear"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("footer.newsletterPrompt")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(Ge,{className:"h-4 w-4"}),e.jsx("span",{children:"1-800-MOTOGEAR"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(Ue,{className:"h-4 w-4"}),e.jsx("span",{children:"support@motogear.com"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(Qe,{className:"h-4 w-4"}),e.jsx("span",{children:"123 Rider Ave, Motorcycle City, MC 12345"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:s("footer.shop")}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(b,{to:"/category/helmets",className:"text-muted-foreground hover:text-foreground transition-colors",children:s("footer.helmets")})}),e.jsx("li",{children:e.jsx(b,{to:"/category/jackets",className:"text-muted-foreground hover:text-foreground transition-colors",children:s("footer.jackets")})}),e.jsx("li",{children:e.jsx(b,{to:"/category/gloves",className:"text-muted-foreground hover:text-foreground transition-colors",children:s("footer.gloves")})}),e.jsx("li",{children:e.jsx(b,{to:"/category/boots",className:"text-muted-foreground hover:text-foreground transition-colors",children:s("footer.boots")})}),e.jsx("li",{children:e.jsx(b,{to:"/category/accessories",className:"text-muted-foreground hover:text-foreground transition-colors",children:s("footer.accessories")})}),e.jsx("li",{children:e.jsx(b,{to:"/offers",className:"text-muted-foreground hover:text-foreground transition-colors",children:s("footer.offers")})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:s("footer.customerService")}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(b,{to:"/contact",className:"text-muted-foreground hover:text-foreground transition-colors",children:s("footer.contactUs")})}),e.jsx("li",{children:e.jsx(b,{to:"/shipping",className:"text-muted-foreground hover:text-foreground transition-colors",children:s("footer.shippingInfo")})}),e.jsx("li",{children:e.jsx(b,{to:"/returns",className:"text-muted-foreground hover:text-foreground transition-colors",children:s("footer.returns")})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:s("footer.stayConnected")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("footer.newsletterPrompt")}),e.jsxs("form",{onSubmit:r,className:"space-y-2",children:[e.jsx(G,{type:"email",placeholder:"Enter your email",value:t,onChange:i=>a(i.target.value),required:!0}),e.jsx(h,{type:"submit",className:"w-full",children:s("footer.subscribe")})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(h,{variant:"ghost",size:"icon","aria-label":"Facebook",children:e.jsx(We,{className:"h-4 w-4"})}),e.jsx(h,{variant:"ghost",size:"icon","aria-label":"Twitter",children:e.jsx(Ye,{className:"h-4 w-4"})}),e.jsx(h,{variant:"ghost",size:"icon","aria-label":"Instagram",children:e.jsx(Je,{className:"h-4 w-4"})}),e.jsx(h,{variant:"ghost",size:"icon","aria-label":"YouTube",children:e.jsx(Xe,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"border-t mt-8 pt-8 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("footer.copyright")}),e.jsxs("div",{className:"flex space-x-6 text-sm",children:[e.jsx(b,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors",children:s("footer.privacyPolicy")}),e.jsx(b,{to:"/terms",className:"text-muted-foreground hover:text-foreground transition-colors",children:s("footer.termsOfService")})]})]})]})})}const ke=K()(Z((t,a)=>({colorTheme:"default",mode:"dark",setColorTheme:s=>{t({colorTheme:s}),a().applyTheme()},setMode:s=>{t({mode:s}),a().applyTheme()},toggleMode:()=>{const r=a().mode==="dark"?"light":"dark";a().setMode(r)},applyTheme:()=>{const{colorTheme:s,mode:r}=a(),i=document.documentElement;i.classList.remove("light","dark"),i.classList.add(r),i.dataset.theme=s}}),{name:"theme-storage",onRehydrateStorage:()=>t=>{t&&t.applyTheme()}})),$t=[{name:"default",label:"MotoGear Slate",description:"The original dark theme",colors:["#F8FAFC","#334155","#0F172A"]},{name:"ocean-blue",label:"Ocean Blue",description:"Cool and refreshing",colors:["#38BDF8","#0EA5E9","#0369A1"]},{name:"forest-green",label:"Forest Green",description:"Natural and calming",colors:["#4ADE80","#22C55E","#15803D"]},{name:"sunset-pink",label:"Sunset Pink",description:"Warm and vibrant",colors:["#F472B6","#EC4899","#BE185D"]},{name:"vintage-sepia",label:"Vintage Sepia",description:"Classic and elegant",colors:["#D5A75F","#B58A44","#846128"]}];function Vt(){const{colorTheme:t,mode:a,setColorTheme:s,toggleMode:r}=ke(),[i,o]=c.useState(!1);return e.jsxs("div",{className:"fixed bottom-5 start-5 z-50",children:[e.jsx(_,{children:i&&e.jsxs(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2,ease:"easeOut"},className:"mb-2 w-72 bg-background/80 backdrop-blur-sm border rounded-lg shadow-lg",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("h3",{className:"font-semibold text-sm flex items-center",children:[e.jsx(ie,{className:"me-2 h-4 w-4"})," Choose Theme"]})}),e.jsx("div",{className:"p-2 max-h-64 overflow-y-auto",children:$t.map(n=>e.jsx("button",{className:y("w-full text-start p-3 rounded-md hover:bg-muted/50 transition-colors focus-ring",t===n.name&&"bg-muted"),onClick:()=>s(n.name),children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex -space-x-2 me-3",children:n.colors.map(d=>e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-background",style:{backgroundColor:d}},d))}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:n.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n.description})]})]}),t===n.name&&e.jsx(pe,{className:"h-5 w-5 text-primary"})]})},n.name))})]})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(h,{variant:"outline",size:"icon",className:"rounded-full h-12 w-12 shadow-lg",onClick:r,"aria-label":"Toggle light/dark mode",children:e.jsx(_,{mode:"wait",children:e.jsx(u.div,{initial:{opacity:0,rotate:-30},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:30},transition:{duration:.2},children:a==="dark"?e.jsx(Ke,{className:"h-6 w-6"}):e.jsx(Ze,{className:"h-6 w-6"})},a)})}),e.jsx(h,{variant:"outline",size:"icon",className:"rounded-full h-12 w-12 shadow-lg",onClick:()=>o(!i),"aria-label":"Choose theme",children:e.jsx(ie,{className:"h-6 w-6"})})]})]})}function Ft(){return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(Mt,{}),e.jsx("main",{id:"main-content",className:"flex-grow",children:e.jsx(et,{})}),e.jsx(Bt,{}),e.jsx(Vt,{})]})}const se=g.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:y("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a}));se.displayName="Card";const qt=g.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:y("flex flex-col space-y-1.5 p-6",t),...a}));qt.displayName="CardHeader";const Ht=g.forwardRef(({className:t,...a},s)=>e.jsx("h3",{ref:s,className:y("text-2xl font-semibold leading-none tracking-tight",t),...a}));Ht.displayName="CardTitle";const Gt=g.forwardRef(({className:t,...a},s)=>e.jsx("p",{ref:s,className:y("text-sm text-muted-foreground",t),...a}));Gt.displayName="CardDescription";const Ae=g.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:y("p-6 pt-0",t),...a}));Ae.displayName="CardContent";const Ut=g.forwardRef(({className:t,...a},s)=>e.jsx("div",{ref:s,className:y("flex items-center p-6 pt-0",t),...a}));Ut.displayName="CardFooter";function Qt({rating:t,totalStars:a=5,className:s,starClassName:r}){const i=Math.floor(t),o=Math.round((t-i)*100),n=a-Math.ceil(t);return e.jsxs("div",{className:y("flex items-center",s),"aria-label":`Rating: ${t} out of ${a} stars.`,children:[[...Array(i)].map((d,p)=>e.jsx(B,{className:y("h-4 w-4 text-yellow-400 fill-yellow-400",r),role:"img","aria-label":"full star"},`full-${p}`)),o>0&&e.jsxs("div",{className:"relative",role:"img","aria-label":"partial star",children:[e.jsx(B,{className:y("h-4 w-4 text-gray-300",r)}),e.jsx("div",{className:"absolute top-0 left-0 h-full overflow-hidden",style:{width:`${o}%`},children:e.jsx(B,{className:y("h-4 w-4 text-yellow-400 fill-yellow-400",r)})})]}),[...Array(n)].map((d,p)=>e.jsx(B,{className:y("h-4 w-4 text-gray-300",r),role:"img","aria-label":"empty star"},`empty-${p}`))]})}function Ce({product:t,priority:a=!1}){const s=te(A=>A.addItem),{t:r}=I(),[i,o]=c.useState("idle"),[n,d]=c.useState(!1),[p,v]=c.useState(!1),f=A=>{A.preventDefault(),A.stopPropagation(),i==="idle"&&(o("loading"),setTimeout(()=>{s(t),o("success"),setTimeout(()=>o("idle"),2e3)},600))},m=A=>{A.preventDefault(),A.stopPropagation(),d(!n)},l=()=>{switch(i){case"loading":return e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:[e.jsx(O,{className:"h-4 w-4 animate-spin me-2"}),r("product.adding","Adding...")]});case"success":return e.jsxs(u.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"flex items-center",children:[e.jsx(pe,{className:"me-2 h-4 w-4"}),r("product.added","Added!")]});case"idle":default:return e.jsxs("div",{className:"flex items-center",children:[e.jsx(H,{className:"me-2 h-4 w-4"}),t.stock>0?r("product.addToCart","Add to Cart"):r("product.outOfStock","Out of Stock")]})}},S=t.compareAtPrice?Math.round((t.compareAtPrice-t.price)/t.compareAtPrice*100):0;return e.jsx(u.div,{whileHover:{y:-8},transition:{duration:.3,ease:"easeOut"},className:"h-full",children:e.jsxs(se,{className:"premium-card h-full flex flex-col overflow-hidden group",children:[e.jsx(b,{to:`/product/${t.slug}`,className:"flex flex-col flex-grow focus-ring rounded-lg","aria-label":`View ${t.title} details`,children:e.jsxs(Ae,{className:"p-0 flex flex-col flex-grow",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[!p&&e.jsx("div",{className:"absolute inset-0 bg-muted animate-pulse"}),e.jsx(u.img,{src:t.images[0],alt:t.title,loading:a?"eager":"lazy",className:"w-full h-64 object-cover transition-all duration-500 group-hover:scale-110",onLoad:()=>v(!0),whileHover:{scale:1.1},transition:{duration:.5}}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(u.div,{initial:{scale:0,opacity:0},whileHover:{scale:1.1},animate:{scale:1,opacity:1},transition:{delay:.1},children:e.jsx(h,{variant:"secondary",size:"sm",className:"bg-white/90 hover:bg-white text-black backdrop-blur-sm","aria-label":"Quick view",children:e.jsx(tt,{className:"w-4 h-4"})})}),e.jsx(u.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},children:e.jsx(h,{variant:"secondary",size:"sm",onClick:m,className:`backdrop-blur-sm transition-colors ${n?"bg-red-500 hover:bg-red-600 text-white":"bg-white/90 hover:bg-white text-black"}`,"aria-label":n?"Remove from wishlist":"Add to wishlist",children:e.jsx(st,{className:`w-4 h-4 ${n?"fill-current":""}`})})})]})}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-col space-y-2",children:[t.compareAtPrice&&S>0&&e.jsx(u.div,{initial:{scale:0,rotate:-12},animate:{scale:1,rotate:-12},transition:{delay:.2,type:"spring"},children:e.jsxs(E,{variant:"destructive",className:"shadow-lg",children:["-",S,"%"]})}),t.featured&&e.jsx(u.div,{initial:{scale:0,rotate:12},animate:{scale:1,rotate:12},transition:{delay:.3,type:"spring"},children:e.jsxs(E,{variant:"secondary",className:"bg-primary text-primary-foreground shadow-lg",children:[e.jsx(at,{className:"w-3 h-3 me-1"}),r("product.featured","Featured")]})})]}),t.stock<=5&&t.stock>0&&e.jsx(E,{variant:"outline",className:"absolute top-3 right-3 bg-orange-500/90 text-white border-orange-500",children:r("product.lowStock",`Only ${t.stock} left`)})]}),e.jsxs("div",{className:"p-4 space-y-3 flex flex-col flex-grow",children:[t.brand&&e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:t.brand}),e.jsx("h3",{className:"font-semibold text-lg leading-tight line-clamp-2 group-hover:text-primary transition-colors duration-300",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:t.shortDescription}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Qt,{rating:t.rating,size:"sm"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t.reviewCount,")"]})]}),e.jsx(E,{variant:"outline",className:"text-xs",children:t.category.name})]}),e.jsx("div",{className:"flex items-center justify-between pt-2 mt-auto",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u.p,{className:"text-xl font-bold text-primary",whileHover:{scale:1.05},children:ne(t.price)}),t.compareAtPrice&&e.jsx("p",{className:"text-sm text-muted-foreground line-through",children:ne(t.compareAtPrice)})]})})]})]})}),e.jsx("div",{className:"p-4 pt-0",children:e.jsx(u.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(h,{className:`w-full btn-premium transition-all duration-300 ${i==="success"?"bg-green-500 hover:bg-green-600 shadow-glow-blue":""}`,onClick:f,disabled:t.stock===0||i==="loading","aria-label":`Add ${t.title} to cart`,children:l()})})})]})})}const Wt={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.1}}},Yt={hidden:{y:30,opacity:0,scale:.9},visible:{y:0,opacity:1,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}}},Jt=()=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((t,a)=>e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:a*.1},className:"premium-card p-4 space-y-4",children:[e.jsx("div",{className:"aspect-square bg-muted rounded-lg loading-shimmer"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded loading-shimmer"}),e.jsx("div",{className:"h-3 bg-muted rounded w-3/4 loading-shimmer"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2 loading-shimmer"})]})]},a))});function ce({products:t,isLoading:a=!1,className:s="",enableVirtualization:r=!1}){const[i,o]=rt({triggerOnce:!0,threshold:.1,rootMargin:"50px 0px"});return a?e.jsx(Jt,{}):t.length===0?e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mb-4",children:e.jsx(u.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filters"})]}):e.jsx(u.div,{ref:i,className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 ${s}`,variants:Wt,initial:"hidden",animate:o?"visible":"hidden",children:e.jsx(_,{children:t.map((n,d)=>e.jsx(u.div,{variants:Yt,layout:!0,whileHover:{y:-8,transition:{duration:.3,ease:"easeOut"}},className:"group",children:e.jsx(Ce,{product:n,priority:d<4})},n.id))})})}const Xt=U();function Kt(){const[t,a]=c.useState([]),{t:s}=I();return c.useEffect(()=>{async function r(){try{const i=await Xt.categories.list();a(i.slice(0,4))}catch(i){console.error("Failed to fetch categories:",i)}}r()},[]),t.length===0?null:e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-8 uppercase tracking-wider",children:s("home.shopByCategory")}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(r=>e.jsx(u.div,{whileHover:{scale:1.03},whileTap:{scale:.98},className:"rounded-lg",children:e.jsx(b,{to:`/category/${r.slug}`,children:e.jsxs(se,{className:"overflow-hidden group relative text-white border-none shadow-none bg-zinc-900 h-96",children:[e.jsx("img",{src:r.image||`https://picsum.photos/seed/${r.slug}/400/600`,alt:r.name,className:"w-full h-full object-cover transition-all duration-500 group-hover:scale-110 opacity-60 group-hover:opacity-80"}),e.jsx("div",{className:"absolute inset-0 flex items-end justify-center p-6 bg-gradient-to-t from-black/60 to-transparent",children:e.jsx("h3",{className:"text-xl font-bold uppercase tracking-widest",children:r.name})})]})})},r.id))})]})})}function Zt(){const{t}=I(),a=[{icon:e.jsx(it,{className:"h-6 w-6 text-primary"}),title:t("home.trustBadges.freeShipping.title"),subtitle:t("home.trustBadges.freeShipping.subtitle")},{icon:e.jsx(ot,{className:"h-6 w-6 text-primary"}),title:t("home.trustBadges.rideWithConfidence.title"),subtitle:t("home.trustBadges.rideWithConfidence.subtitle")},{icon:e.jsx(nt,{className:"h-6 w-6 text-primary"}),title:t("home.trustBadges.secureCheckout.title"),subtitle:t("home.trustBadges.secureCheckout.subtitle")}];return e.jsx("section",{className:"py-12 border-y border-white/10",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-start",children:a.map((s,r)=>e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[e.jsx("div",{className:"flex-shrink-0 bg-primary/10 p-4 rounded-full",children:s.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm uppercase tracking-wider",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.subtitle})]})]},r))})})})}const R=[{id:"1",title:"Premium Racing Helmets",subtitle:"Safety Meets Performance",description:"Experience the ultimate protection with our carbon fiber racing helmets. Engineered for speed, designed for champions.",ctaText:"Shop Helmets",ctaLink:"/category/helmets",backgroundVideo:"https://player.vimeo.com/external/434045526.sd.mp4?s=c27eecc69a27dbc4ff2b87d38afc35f1a9e7c02d&profile_id=139&oauth2_token_id=57447761",backgroundImage:"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=1920&h=1080&fit=crop",overlayColor:"from-black/60 via-black/40 to-transparent"},{id:"2",title:"Leather Racing Jackets",subtitle:"Crafted for the Road",description:"Premium leather jackets with advanced protection technology. Style and safety combined in perfect harmony.",ctaText:"Explore Jackets",ctaLink:"/category/jackets",backgroundImage:"https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?w=1920&h=1080&fit=crop",overlayColor:"from-moto-900/70 via-moto-800/50 to-transparent"},{id:"3",title:"Performance Boots",subtitle:"Every Mile Matters",description:"Professional-grade motorcycle boots designed for comfort, durability, and maximum protection on every journey.",ctaText:"Shop Boots",ctaLink:"/category/boots",backgroundImage:"https://images.unsplash.com/photo-1544966503-7cc5ac882d5f?w=1920&h=1080&fit=crop",overlayColor:"from-orange-900/60 via-orange-800/40 to-transparent"}];function es(){const[t,a]=c.useState(0),[s,r]=c.useState(!0),[i,o]=c.useState(!0),[n,d]=c.useState(!1),{t:p}=I(),v=()=>{a(l=>(l+1)%R.length)},f=()=>{a(l=>(l-1+R.length)%R.length)};c.useEffect(()=>{if(!s)return;const l=setInterval(v,6e3);return()=>clearInterval(l)},[s]);const m=R[t];return e.jsxs("section",{className:"relative h-screen w-full overflow-hidden bg-moto-900",children:[e.jsx("div",{className:"absolute inset-0 z-0",children:e.jsx(_,{mode:"wait",children:e.jsxs(u.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.8,ease:"easeInOut"},className:"absolute inset-0",children:[m.backgroundVideo&&t===0?e.jsxs("video",{autoPlay:!0,muted:i,loop:!0,playsInline:!0,className:"w-full h-full object-cover",onLoadedData:()=>d(!0),poster:m.backgroundImage,children:[e.jsx("source",{src:m.backgroundVideo,type:"video/mp4"}),e.jsx("img",{src:m.backgroundImage,alt:"Fallback",className:"w-full h-full object-cover"})]}):e.jsx("img",{src:m.backgroundImage,alt:m.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${m.overlayColor||"from-black/60 via-black/40 to-transparent"}`})]},t)})}),e.jsx("div",{className:"relative z-10 h-full flex items-center",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"max-w-4xl",children:e.jsx(_,{mode:"wait",children:e.jsxs(u.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.6,ease:"easeOut"},className:"text-white",children:[e.jsx(u.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.2,duration:.5},className:"inline-block mb-4",children:e.jsx("span",{className:"px-4 py-2 bg-primary/20 backdrop-blur-sm border border-primary/30 rounded-full text-sm font-medium text-primary-foreground",children:m.subtitle})}),e.jsxs(u.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-6xl md:text-8xl font-display font-bold mb-6 leading-tight",children:[e.jsx("span",{className:"block text-gradient bg-gradient-to-r from-white via-primary to-white bg-clip-text text-transparent",children:m.title.split(" ")[0]}),e.jsx("span",{className:"block text-white/90",children:m.title.split(" ").slice(1).join(" ")})]}),e.jsx(u.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:"text-xl md:text-2xl text-white/80 mb-8 max-w-2xl leading-relaxed",children:m.description}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.5},className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(h,{asChild:!0,size:"lg",className:"btn-premium text-lg px-8 py-4 shadow-glow-orange hover:shadow-glow-orange hover:scale-105 transition-all duration-300",children:e.jsx(b,{to:m.ctaLink,children:m.ctaText})}),e.jsx(h,{asChild:!0,variant:"outline",size:"lg",className:"text-lg px-8 py-4 border-white/30 text-white hover:bg-white/10 backdrop-blur-sm",children:e.jsx(b,{to:"/category/all",children:p("hero.viewAll","View All Products")})})]})]},t)})})})}),e.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex space-x-2",children:R.map((l,S)=>e.jsx("button",{onClick:()=>a(S),className:`w-3 h-3 rounded-full transition-all duration-300 ${S===t?"bg-primary scale-125 shadow-glow-orange":"bg-white/30 hover:bg-white/50"}`,"aria-label":`Go to slide ${S+1}`},S))}),e.jsx("button",{onClick:()=>r(!s),className:"p-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-full hover:bg-white/20 transition-all duration-300","aria-label":s?"Pause slideshow":"Play slideshow",children:s?e.jsx(lt,{className:"w-4 h-4 text-white"}):e.jsx(ct,{className:"w-4 h-4 text-white"})}),m.backgroundVideo&&e.jsx("button",{onClick:()=>o(!i),className:"p-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-full hover:bg-white/20 transition-all duration-300","aria-label":i?"Unmute video":"Mute video",children:i?e.jsx(dt,{className:"w-4 h-4 text-white"}):e.jsx(ut,{className:"w-4 h-4 text-white"})})]})}),e.jsx("button",{onClick:f,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20 p-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-full hover:bg-white/20 transition-all duration-300 group","aria-label":"Previous slide",children:e.jsx(ge,{className:"w-6 h-6 text-white group-hover:scale-110 transition-transform"})}),e.jsx("button",{onClick:v,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20 p-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-full hover:bg-white/20 transition-all duration-300 group","aria-label":"Next slide",children:e.jsx(fe,{className:"w-6 h-6 text-white group-hover:scale-110 transition-transform"})}),e.jsx("div",{className:"absolute top-20 right-20 z-10 hidden lg:block",children:e.jsx(u.div,{animate:{y:[0,-10,0],rotate:[0,1,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-primary/20 backdrop-blur-sm border border-primary/30 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-primary rounded-full animate-pulse"})})}),e.jsx("div",{className:"absolute bottom-20 left-20 z-10 hidden lg:block",children:e.jsx(u.div,{animate:{x:[0,10,0],rotate:[0,-1,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1},className:"w-12 h-12 bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-primary to-orange-500 rounded-sm animate-glow"})})}),e.jsx("div",{className:"absolute top-1/2 right-10 transform -translate-y-1/2 z-10 hidden xl:block",children:e.jsx(u.div,{animate:{rotateY:[0,360],scale:[1,1.05,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"w-32 h-32 chrome-effect rounded-xl flex items-center justify-center",children:e.jsx("div",{className:"text-4xl font-display font-bold text-primary",children:"M"})})})]})}const de=["MotoElite","TrailMaster","CityRider","WeatherTech","PeakPerformance","UrbanGrip","SpeedTech","RideSafe","MotoCorp","Velocity","ApexGear","TourMaster"],ts=({name:t})=>e.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0 mx-6",children:[e.jsx("div",{className:"h-8 w-8 rounded-md bg-primary/10 flex items-center justify-center",children:e.jsx("span",{className:"text-primary font-bold text-sm",children:t.charAt(0)})}),e.jsx("span",{className:"font-semibold text-muted-foreground group-hover:text-foreground transition-colors",children:t})]});function ss(){const{i18n:t,t:a}=I(),s=t.dir()==="rtl",r=[...de,...de];return e.jsx("section",{className:"bg-secondary py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h3",{className:"text-center text-sm font-semibold uppercase text-muted-foreground tracking-widest mb-8",children:a("home.brandMarqueeTitle")}),e.jsxs("div",{className:"relative overflow-hidden group",children:[e.jsx("div",{className:y("flex group-hover:[animation-play-state:paused]",s?"animate-marquee-rtl":"animate-marquee"),children:r.map((i,o)=>e.jsx(ts,{name:i},`${i}-${o}`))}),e.jsx("div",{className:y("absolute inset-0 pointer-events-none",s?"bg-gradient-to-l from-background via-transparent to-background":"bg-gradient-to-r from-background via-transparent to-background")})]})]})})}function as({userId:t,currentProductId:a,categoryId:s,title:r,className:i=""}){const[o,n]=mt({align:"start",slidesToScroll:1,breakpoints:{"(min-width: 768px)":{slidesToScroll:2},"(min-width: 1024px)":{slidesToScroll:3}}}),[d,p]=c.useState([]),[v,f]=c.useState(!0),[m,l]=c.useState(!1),[S,A]=c.useState(!1),{t:D}=I(),L=U(),Oe=()=>n==null?void 0:n.scrollPrev(),De=()=>n==null?void 0:n.scrollNext(),Q=()=>{n&&(l(n.canScrollPrev()),A(n.canScrollNext()))};return c.useEffect(()=>{n&&(Q(),n.on("select",Q),n.on("reInit",Q))},[n]),c.useEffect(()=>{async function T(){f(!0);try{let N=[];if(a){const M=await L.products.getById(a);M&&(N=await L.products.list({categoryId:M.category.id,limit:8,excludeId:a}))}else if(s)N=await L.products.list({categoryId:s,sort:"popular",limit:8});else if(N=await L.products.list({featured:!0,limit:8}),N.length<8){const M=await L.products.list({sort:"popular",limit:8-N.length});N=[...N,...M]}p(N)}catch(N){console.error("Failed to fetch recommendations:",N)}finally{f(!1)}}T()},[t,a,s]),v?e.jsx("div",{className:`py-12 ${i}`,children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[e.jsx(oe,{className:"w-5 h-5 text-primary animate-pulse"}),e.jsx("h2",{className:"text-2xl font-display font-bold",children:r||D("recommendations.loading","Loading recommendations...")})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((T,N)=>e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},className:"premium-card p-4 space-y-4",children:[e.jsx("div",{className:"aspect-square bg-muted rounded-lg loading-shimmer"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded loading-shimmer"}),e.jsx("div",{className:"h-3 bg-muted rounded w-3/4 loading-shimmer"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2 loading-shimmer"})]})]},N))})]})}):d.length===0?null:e.jsx("section",{className:`py-12 ${i}`,children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs(u.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(u.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:e.jsx(oe,{className:"w-6 h-6 text-primary"})}),e.jsx("h2",{className:"text-3xl font-display font-bold heading-premium",children:r||D("recommendations.title","Recommended for You")})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(h,{variant:"outline",size:"sm",onClick:Oe,disabled:!m,className:"focus-ring","aria-label":"Previous recommendations",children:e.jsx(ge,{className:"w-4 h-4"})}),e.jsx(h,{variant:"outline",size:"sm",onClick:De,disabled:!S,className:"focus-ring","aria-label":"Next recommendations",children:e.jsx(fe,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"overflow-hidden",ref:o,children:e.jsx("div",{className:"flex",children:d.map((T,N)=>e.jsx(u.div,{className:"flex-[0_0_100%] sm:flex-[0_0_50%] lg:flex-[0_0_33.333%] xl:flex-[0_0_25%] min-w-0 px-3",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:N*.1,duration:.5,ease:"easeOut"},children:e.jsx(Ce,{product:T,priority:N<4})},T.id))})}),e.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:Array.from({length:Math.ceil(d.length/4)}).map((T,N)=>e.jsx("button",{className:"w-2 h-2 rounded-full bg-muted hover:bg-primary transition-colors duration-300","aria-label":`Go to recommendation group ${N+1}`},N))})]})})}const ue=U();function rs(){const[t,a]=c.useState([]),[s,r]=c.useState([]),[i,o]=c.useState(!0),{t:n}=I();return c.useEffect(()=>{async function d(){o(!0);try{const[p,v]=await Promise.all([ue.products.list({featured:!0,limit:4}),ue.products.list({sort:"new",limit:8})]);a(p),r(v)}catch(p){console.error("Failed to fetch products:",p)}finally{o(!1)}}d()},[]),i?e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsx(O,{className:"h-8 w-8 animate-spin"})}):e.jsxs("div",{className:"animate-fade-in",children:[e.jsx(es,{}),e.jsx(ss,{}),e.jsx(Zt,{}),e.jsx(Kt,{}),t.length>0&&e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:n("home.featuredProducts")}),e.jsx(ce,{products:t})]})}),s.length>0&&e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:n("home.newArrivals")}),e.jsx(ce,{products:s}),e.jsx("div",{className:"text-center mt-12",children:e.jsx(h,{asChild:!0,size:"lg",variant:"secondary",children:e.jsx(b,{to:"/category/all",children:n("home.exploreMore")})})})]})}),e.jsx(as,{title:n("home.recommendedForYou","Recommended for You"),className:"bg-muted/30"})]})}function is(){return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4",children:[e.jsx("h1",{className:"text-9xl font-bold text-primary",children:"404"}),e.jsx("h2",{className:"text-3xl font-semibold mt-4",children:"Page Not Found"}),e.jsx("p",{className:"text-muted-foreground mt-2 max-w-md",children:"Sorry, the page you are looking for does not exist. You might have mistyped the address or the page may have moved."}),e.jsx(h,{asChild:!0,className:"mt-8",children:e.jsx(b,{to:"/",children:"Go Back Home"})})]})}const os=["Helmets","Jackets","Gloves","Boots","Accessories"],ns=["MotoCorp","RideSafe","Velocity","ApexGear","TourMaster"];function ls(t){const a=[];return t!=="Accessories"&&a.push({id:C(),name:"Size",options:["S","M","L","XL"]}),(t==="Helmets"||t==="Jackets")&&a.push({id:C(),name:"Color",options:["Matte Black","Glossy White","Red","Blue"]}),a}async function cs(){const t=await x();if(await t.count("products")>0){console.log("Database already seeded.");return}console.log("Seeding database...");const s=t.transaction(["categories","products","users","coupons","contentBlocks","settings"],"readwrite"),r=[];for(const f of os){const m={id:C(),name:f,slug:P(f),description:w.lorem.sentence(),image:`https://picsum.photos/seed/${P(f)}/600/400`};r.push(m),await s.objectStore("categories").add(m)}for(let f=0;f<50;f++){const m=w.helpers.arrayElement(r),l=`${w.helpers.arrayElement(["Racing","Touring","Urban","Adventure"])} ${m.name.slice(0,-1)}`,S=w.commerce.price({min:200,max:3e3,dec:0}),A={id:C(),title:l,slug:P(`${l}-${f}-${w.string.alphanumeric(4)}`),brand:w.helpers.arrayElement(ns),category:m,price:Number(S),compareAtPrice:w.datatype.boolean(.3)?Number(S)*1.5:void 0,stock:w.number.int({min:0,max:100}),rating:w.number.float({min:3.5,max:5,precision:.1}),reviewCount:w.number.int({min:5,max:200}),tags:w.helpers.arrayElements(["new-arrival","best-seller","waterproof","carbon-fiber"],w.number.int({min:1,max:3})),images:Array.from({length:3},()=>`https://picsum.photos/seed/${w.string.uuid()}/800/800`),description:w.lorem.paragraphs(3),shortDescription:w.lorem.sentence(),specs:{Material:w.commerce.productMaterial(),Weight:`${w.number.int({min:1,max:2})}kg`,Certification:"DOT/ECE"},features:["Ventilated","Removable Liner","Quick-release Strap"],variants:ls(m.name),featured:w.datatype.boolean(.2),createdAt:w.date.past().toISOString(),updatedAt:new Date().toISOString()};await s.objectStore("products").add(A)}const i={id:"user-customer-01",email:"customer@motogear.com",name:"John Doe",role:"customer",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await s.objectStore("users").add(i);const o={id:"user-admin-01",email:"admin@motogear.com",name:"Admin User",role:"admin",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};await s.objectStore("users").add(o);const n={id:"coupon-01",code:"SAVE10",type:"percent",value:10,active:!0,appliesTo:"all"};await s.objectStore("coupons").add(n);const d={id:"coupon-02",code:"FREESHIP",type:"fixed",value:50,active:!0,appliesTo:"all"};await s.objectStore("coupons").add(d);const p={id:"content-hero-1",key:"homepage-hero",title:"Gear Up for the Ride",body:"Discover premium helmets, jackets, and accessories designed for safety and style.",media:["https://images.unsplash.com/photo-1621303837119-159a41c0a2a9?fit=crop&w=1920&q=80"],link:"/category/all",active:!0};await s.objectStore("contentBlocks").add(p);const v={id:"main-settings",storeName:"MotoGear Store",currency:"SAR",taxRate:15,shippingFlatRate:50,freeShippingThreshold:500};await s.objectStore("settings").add(v),await s.done,console.log("Database seeded successfully!")}const ds=ht,Ie=c.forwardRef(({className:t,...a},s)=>e.jsx(ye,{ref:s,className:y("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...a}));Ie.displayName=ye.displayName;const us=X("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Pe=c.forwardRef(({className:t,variant:a,...s},r)=>e.jsx(je,{ref:r,className:y(us({variant:a}),t),...s}));Pe.displayName=je.displayName;const ms=c.forwardRef(({className:t,...a},s)=>e.jsx(be,{ref:s,className:y("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...a}));ms.displayName=be.displayName;const _e=c.forwardRef(({className:t,...a},s)=>e.jsx(ve,{ref:s,className:y("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...a,children:e.jsx(xe,{className:"h-4 w-4"})}));_e.displayName=ve.displayName;const Te=c.forwardRef(({className:t,...a},s)=>e.jsx(we,{ref:s,className:y("text-sm font-semibold",t),...a}));Te.displayName=we.displayName;const Ee=c.forwardRef(({className:t,...a},s)=>e.jsx(Ne,{ref:s,className:y("text-sm opacity-90",t),...a}));Ee.displayName=Ne.displayName;const hs=5,xs=1e6;let Y=0;function ps(){return Y=(Y+1)%Number.MAX_VALUE,Y.toString()}const J=new Map,me=t=>{if(J.has(t))return;const a=setTimeout(()=>{J.delete(t),z({type:"REMOVE_TOAST",toastId:t})},xs);J.set(t,a)},gs=(t,a)=>{switch(a.type){case"ADD_TOAST":return{...t,toasts:[a.toast,...t.toasts].slice(0,hs)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===a.toast.id?{...s,...a.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=a;return s?me(s):t.toasts.forEach(r=>{me(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return a.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==a.toastId)}}},F=[];let q={toasts:[]};function z(t){q=gs(q,t),F.forEach(a=>{a(q)})}function fs(t){const a=ps(),s=i=>z({type:"UPDATE_TOAST",toast:{...i,id:a}}),r=()=>z({type:"DISMISS_TOAST",toastId:a});return z({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:i=>{i||r()}}}),{id:a,dismiss:r,update:s}}function ys(){const[t,a]=c.useState(q);return c.useEffect(()=>(F.push(a),()=>{const s=F.indexOf(a);s>-1&&F.splice(s,1)}),[t]),{...t,toast:fs,dismiss:s=>z({type:"DISMISS_TOAST",toastId:s})}}function js(){const{toasts:t}=ys();return e.jsxs(ds,{children:[t.map(function({id:a,title:s,description:r,action:i,...o}){return e.jsxs(Pe,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(Te,{children:s}),r&&e.jsx(Ee,{children:r})]}),i,e.jsx(_e,{})]},a)}),e.jsx(Ie,{})]})}function bs({children:t}){const{user:a,isAuthenticated:s,isLoading:r}=ee(),i=Se();return r?e.jsx("div",{className:"fixed inset-0 bg-background flex justify-center items-center",children:e.jsx(O,{className:"h-12 w-12 animate-spin text-primary"})}):!s||(a==null?void 0:a.role)!=="admin"?e.jsx(xt,{to:"/login",state:{from:i},replace:!0}):t}const vs=g.lazy(()=>k(()=>import("./ProductDetailPage-CT5lQK4b.js"),__vite__mapDeps([0,1])).then(t=>({default:t.ProductDetailPage}))),ws=g.lazy(()=>k(()=>import("./CategoryPage-DCq5zsPX.js"),__vite__mapDeps([2,1,3,4,5])).then(t=>({default:t.CategoryPage}))),Ns=g.lazy(()=>k(()=>import("./CartPage-CPMN4Bcr.js"),__vite__mapDeps([6,1,7])).then(t=>({default:t.CartPage}))),Ss=g.lazy(()=>k(()=>import("./CheckoutPage-cgcjRSZs.js"),__vite__mapDeps([8,1,4,7])).then(t=>({default:t.CheckoutPage}))),ks=g.lazy(()=>k(()=>import("./OrderConfirmationPage-BFqun8bk.js"),__vite__mapDeps([9,1,7])).then(t=>({default:t.OrderConfirmationPage}))),As=g.lazy(()=>k(()=>import("./LoginPage-Bm2GKOKK.js"),__vite__mapDeps([10,1,4])).then(t=>({default:t.LoginPage}))),Cs=g.lazy(()=>k(()=>import("./RegisterPage-DiNz-kPd.js"),__vite__mapDeps([11,1,4])).then(t=>({default:t.RegisterPage}))),Is=g.lazy(()=>k(()=>import("./AccountPage-CP0-GwRd.js"),__vite__mapDeps([12,1])).then(t=>({default:t.AccountPage}))),Ps=g.lazy(()=>k(()=>import("./OrderHistoryPage-PUsVDPkk.js"),__vite__mapDeps([13,1])).then(t=>({default:t.OrderHistoryPage}))),_s=g.lazy(()=>k(()=>import("./AdminLayout-CefWRtZT.js"),__vite__mapDeps([14,1])).then(t=>({default:t.AdminLayout}))),Ts=g.lazy(()=>k(()=>import("./AdminDashboardPage-DLKrxjn_.js"),__vite__mapDeps([15,1])).then(t=>({default:t.AdminDashboardPage}))),Es=g.lazy(()=>k(()=>import("./AdminProductsPage--PQXAZ5M.js"),__vite__mapDeps([16,1,17])).then(t=>({default:t.AdminProductsPage}))),he=g.lazy(()=>k(()=>import("./AdminProductEditPage-B7QJrkvl.js"),__vite__mapDeps([18,1,4,3,5])).then(t=>({default:t.AdminProductEditPage}))),Os=g.lazy(()=>k(()=>import("./AdminCategoriesPage-CnWB3emy.js"),__vite__mapDeps([19,1,17])).then(t=>({default:t.AdminCategoriesPage}))),Ds=g.lazy(()=>k(()=>import("./AdminOrdersPage-Lo85PKx4.js"),__vite__mapDeps([20,1,17,5])).then(t=>({default:t.AdminOrdersPage}))),Ls=g.lazy(()=>k(()=>import("./AdminDataPage-DOla-0DH.js"),__vite__mapDeps([21,1])).then(t=>({default:t.AdminDataPage}))),Rs=g.lazy(()=>k(()=>import("./AdminSettingsPage-CTVvDL1K.js"),__vite__mapDeps([22,1,4])).then(t=>({default:t.AdminSettingsPage}))),zs=()=>e.jsx("div",{className:"fixed inset-0 bg-background flex flex-col justify-center items-center",children:e.jsx(O,{className:"h-12 w-12 animate-spin text-primary mb-4"})}),Ms=()=>e.jsx("div",{className:"flex justify-center items-center h-[60vh]",children:e.jsx(O,{className:"h-8 w-8 animate-spin text-primary"})});function Bs(){const{applyTheme:t}=ke(),{checkAuth:a}=ee(),[s,r]=c.useState(!0),i=Se(),{i18n:o}=I();return c.useEffect(()=>{document.documentElement.lang=o.language,document.documentElement.dir=o.dir(o.language)},[o,o.language]),c.useEffect(()=>{window.scrollTo(0,0)},[i.pathname]),c.useEffect(()=>{async function n(){t(),await a(),await kt(),new URLSearchParams(window.location.search).get("seed")==="true"&&await At(),await cs(),r(!1)}n()},[t,a]),s?e.jsx(zs,{}):e.jsxs(e.Fragment,{children:[e.jsx(c.Suspense,{fallback:e.jsx(Ms,{}),children:e.jsxs(pt,{children:[e.jsxs(j,{path:"/",element:e.jsx(Ft,{}),children:[e.jsx(j,{index:!0,element:e.jsx(rs,{})}),e.jsx(j,{path:"product/:slug",element:e.jsx(vs,{})}),e.jsx(j,{path:"category/:slug",element:e.jsx(ws,{})}),e.jsx(j,{path:"cart",element:e.jsx(Ns,{})}),e.jsx(j,{path:"checkout",element:e.jsx(Ss,{})}),e.jsx(j,{path:"order/:id",element:e.jsx(ks,{})}),e.jsx(j,{path:"account",element:e.jsx(Is,{})}),e.jsx(j,{path:"orders",element:e.jsx(Ps,{})}),e.jsx(j,{path:"login",element:e.jsx(As,{})}),e.jsx(j,{path:"register",element:e.jsx(Cs,{})}),e.jsx(j,{path:"*",element:e.jsx(is,{})})]}),e.jsxs(j,{path:"/admin",element:e.jsx(bs,{children:e.jsx(_s,{})}),children:[e.jsx(j,{index:!0,element:e.jsx(Ts,{})}),e.jsx(j,{path:"products",element:e.jsx(Es,{})}),e.jsx(j,{path:"products/new",element:e.jsx(he,{})}),e.jsx(j,{path:"products/edit/:id",element:e.jsx(he,{})}),e.jsx(j,{path:"categories",element:e.jsx(Os,{})}),e.jsx(j,{path:"orders",element:e.jsx(Ds,{})}),e.jsx(j,{path:"data",element:e.jsx(Ls,{})}),e.jsx(j,{path:"settings",element:e.jsx(Rs,{})})]})]})}),e.jsx(js,{})]})}gt.use(ft).use(yt).use(jt).init({supportedLngs:["en","ar"],fallbackLng:"en",debug:!1,detection:{order:["queryString","cookie","localStorage","sessionStorage","navigator","htmlTag"],caches:["cookie","localStorage"]},backend:{loadPath:"/locales/{{lng}}/translation.json"},react:{useSuspense:!0}});const $s=new bt,Vs=()=>e.jsx("div",{className:"fixed inset-0 bg-background flex flex-col justify-center items-center",children:e.jsx(O,{className:"h-12 w-12 animate-spin text-primary mb-4"})});vt.createRoot(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsx(c.Suspense,{fallback:e.jsx(Vs,{}),children:e.jsx(wt,{children:e.jsx(Nt,{client:$s,children:e.jsx(Bs,{})})})})}));export{h as B,se as C,G as I,ce as P,Qt as S,te as a,E as b,y as c,qt as d,Ht as e,ne as f,U as g,Ae as h,Ut as i,ee as j,Gt as k,qs as l,x as m,At as n,ys as u};
