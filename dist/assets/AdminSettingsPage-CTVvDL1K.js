import{aA as S,r as y,j as e,aE as f,aF as v,b8 as d,br as b,aG as F}from"./vendor-DcRwrwk9.js";import{u as N,C as R,d as T,e as C,k as E,h as A,I as t,B as w,g as D}from"./index-BEUX0Z6D.js";import{L as r}from"./Label-CEq3WBdJ.js";const p=D(),B=v({storeName:F().min(1,"Store name is required"),currency:b(["USD","EUR","SAR"]),taxRate:d.number().min(0).max(100),shippingFlatRate:d.number().min(0),freeShippingThreshold:d.number().min(0)});function k(){var h,m,o,x;const{toast:l}=N(),{register:s,handleSubmit:g,reset:n,formState:{errors:i,isDirty:u}}=S({resolver:f(B)});y.useEffect(()=>{async function a(){const c=await p.settings.get();c&&n(c)}a()},[n]);const j=async a=>{try{await p.settings.update(a),l({title:"Settings saved successfully"}),n(a)}catch{l({variant:"destructive",title:"Failed to save settings"})}};return e.jsxs(R,{children:[e.jsxs(T,{children:[e.jsx(C,{children:"Store Settings"}),e.jsx(E,{children:"Manage your store's general settings."})]}),e.jsx(A,{children:e.jsxs("form",{onSubmit:g(j),className:"space-y-6 max-w-2xl",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"storeName",children:"Store Name"}),e.jsx(t,{id:"storeName",...s("storeName")}),e.jsx("p",{className:"text-destructive text-xs mt-1",children:(h=i.storeName)==null?void 0:h.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"taxRate",children:"Tax Rate (%)"}),e.jsx(t,{id:"taxRate",type:"number",...s("taxRate")}),e.jsx("p",{className:"text-destructive text-xs mt-1",children:(m=i.taxRate)==null?void 0:m.message})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"currency",children:"Currency"}),e.jsx(t,{id:"currency",...s("currency"),disabled:!0}),e.jsx("p",{className:"text-muted-foreground text-xs mt-1",children:"Currency cannot be changed."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"shippingFlatRate",children:"Shipping Flat Rate"}),e.jsx(t,{id:"shippingFlatRate",type:"number",...s("shippingFlatRate")}),e.jsx("p",{className:"text-destructive text-xs mt-1",children:(o=i.shippingFlatRate)==null?void 0:o.message})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"freeShippingThreshold",children:"Free Shipping Threshold"}),e.jsx(t,{id:"freeShippingThreshold",type:"number",...s("freeShippingThreshold")}),e.jsx("p",{className:"text-destructive text-xs mt-1",children:(x=i.freeShippingThreshold)==null?void 0:x.message})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(w,{type:"submit",disabled:!u,children:"Save Changes"})})]})})]})}export{k as AdminSettingsPage};
