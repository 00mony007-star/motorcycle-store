import{a$ as b,b0 as g,r as o,j as e,b1 as y,b2 as u,b3 as j,L as l,b4 as C,at as N,b5 as v,T}from"./vendor-DcRwrwk9.js";import{c as f,u as P,C as k,d as D,e as S,k as A,B as m,h as E,f as M,b as R,g as B}from"./index-BEUX0Z6D.js";import{T as I,a as z,b as h,c as t,d as H,e as a}from"./Table-PsxMj63z.js";const L=b,$=g,p=o.forwardRef(({className:n,sideOffset:i=4,...r},d)=>e.jsx(y,{children:e.jsx(u,{ref:d,sideOffset:i,className:f("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...r})}));p.displayName=u.displayName;const c=o.forwardRef(({className:n,inset:i,...r},d)=>e.jsx(j,{ref:d,className:f("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i&&"pl-8",n),...r}));c.displayName=j.displayName;const x=B();function J(){const[n,i]=o.useState([]),{toast:r}=P(),d=async()=>{const s=await x.products.list();i(s)};o.useEffect(()=>{d()},[]);const w=async s=>{if(window.confirm("Are you sure you want to delete this product?"))try{await x.products.remove(s),r({title:"Product deleted successfully."}),d()}catch{r({variant:"destructive",title:"Failed to delete product."})}};return e.jsxs(k,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(S,{children:"Products"}),e.jsx(A,{children:"Manage your store's products."})]}),e.jsx(m,{asChild:!0,children:e.jsxs(l,{to:"/admin/products/new",children:[e.jsx(C,{className:"mr-2 h-4 w-4"})," Add Product"]})})]}),e.jsx(E,{children:e.jsxs(I,{children:[e.jsx(z,{children:e.jsxs(h,{children:[e.jsx(t,{children:"Image"}),e.jsx(t,{children:"Name"}),e.jsx(t,{children:"Category"}),e.jsx(t,{children:"Price"}),e.jsx(t,{children:"Stock"}),e.jsx(t,{children:"Status"}),e.jsx(t,{children:"Actions"})]})}),e.jsx(H,{children:n.map(s=>e.jsxs(h,{children:[e.jsx(a,{children:e.jsx("img",{src:s.images[0],alt:s.title,className:"h-12 w-12 object-cover rounded-md"})}),e.jsx(a,{className:"font-medium",children:s.title}),e.jsx(a,{children:s.category.name}),e.jsx(a,{children:M(s.price)}),e.jsx(a,{children:s.stock}),e.jsx(a,{children:e.jsx(R,{variant:s.stock>0?"secondary":"destructive",children:s.stock>0?"In Stock":"Out of Stock"})}),e.jsx(a,{children:e.jsxs(L,{children:[e.jsx($,{asChild:!0,children:e.jsx(m,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(N,{className:"h-4 w-4"})})}),e.jsxs(p,{align:"end",children:[e.jsx(c,{asChild:!0,children:e.jsxs(l,{to:`/admin/products/edit/${s.id}`,className:"flex items-center w-full",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(c,{onClick:()=>w(s.id),className:"text-destructive",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},s.id))})]})})]})}export{J as AdminProductsPage};
